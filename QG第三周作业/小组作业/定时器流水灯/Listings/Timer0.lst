C51 COMPILER V9.54   TIMER0                                                                03/29/2025 10:47:48 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE TIMER0
OBJECT MODULE PLACED IN .\Objects\Timer0.obj
COMPILER INVOKED BY: D:\Keil51\C51\BIN\C51.EXE Timer0.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\Tim
                    -er0.lst) OBJECT(.\Objects\Timer0.obj)

line level    source

   1          #include <REGX52.H>
   2          
   3          
   4          /**
   5            * @brief  å®šæ—¶å™¨0åˆå§‹åŒ–ï¼Œ1æ¯«ç§’
   6            * @param  æ— 
   7            * @retval æ— 
   8            */
   9          //TMODé«˜å››ä½å®šæ—¶å™¨1ï¼Œä½Žå››ä½å®šæ—¶å™¨0ï¼Œåˆ†åˆ«ä¸ºGATE C/T ï¼ˆM1 M0å…±åŒä»£è¡¨æ¨¡å¼ï¼‰
  10          void Timer0Init(void)
  11          {
  12   1              TMOD &= 0xF0;           //è®¾ç½®å®šæ—¶å™¨æ¨¡å¼
  13   1              TMOD |= 0x01;           //è®¾ç½®å®šæ—¶å™¨æ¨¡å¼
  14   1              TL0 = 0x66;             //è®¾ç½®å®šæ—¶åˆå€¼
  15   1              TH0 = 0xFC;             //è®¾ç½®å®šæ—¶åˆå€¼
  16   1              TF0 = 0;                //æ¸…é™¤TF0æ ‡å¿—
  17   1              TR0 = 1;                //å®šæ—¶å™¨0å¼€å§‹è®¡æ—¶
  18   1      
  19   1      //      TMOD=0x01;              //0000 0001
  20   1      //      TMOD=TMOD&0xF0; //æŠŠä»£ç ä½Žå››ä½æ¸…é›¶ï¼Œé«˜å››ä½ä¸å˜ï¼ˆåŽŸç†å’Œ1111 0000æŒ‰ä½ä¸Žï¼Œé«˜å››ä½æ
             -˜¯å•¥ä¸ºå•¥ï¼‰
  21   1      //      TMOD=TMOD|0x01; //æŠŠä»£ç æœ€ä½Žä½ç½®1ï¼Œé«˜å››ä½ä¸å˜ ï¼ˆåŽŸç†å’Œ0000 0001æŒ‰ä½ä¸Žï¼Œä½Žå››ä½æœ
             -‰1ä¸º1ï¼‰
  22   1      //      //TCONé…ç½®
  23   1      //      TF0=0;                  //ç¨‹åºæº¢å‡ºä¸­æ–­ä½
  24   1      //      TR0=1;                  //è®¡æ—¶å™¨å¼€å§‹å·¥ä½œ
  25   1      //      TH0=64535/256;  //äºŒè¿›åˆ¶ï¼Œå–å‡ºå‰å…«ä½
  26   1      //      TL0=64535%256;  //ä½Ž8ä½ï¼ŒäºŒè€…åˆä¸€èµ·ä¸º1000us,1ms
  27   1              //ä¸‹é¢è¦è‡ªå·±é…ç½®
  28   1              ET0=1;
  29   1              EA=1;
  30   1              PT0=0;
  31   1      }
  32          
  33          /*
  34          å®šæ—¶å™¨ä¸­æ–­å‡½æ•°æ¨¡æ¿
  35          
  36          void Timer0_Routine() interrupt 1
  37          {
  38                  static unsigned int T0count;
  39          
  40                  TL0 = 0x66;             //è®¾ç½®å®šæ—¶åˆå€¼
  41                  TH0 = 0xFC;             //è®¾ç½®å®šæ—¶åˆå€¼
  42                  T0count++;
  43                  if(T0count>=1000)
  44                  {
  45                          T0count=0;
  46                          
  47                  }
  48          }
  49          */


MODULE INFORMATION:   STATIC OVERLAYABLE
C51 COMPILER V9.54   TIMER0                                                                03/29/2025 10:47:48 PAGE 2   

   CODE SIZE        =     23    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
